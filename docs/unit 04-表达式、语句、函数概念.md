## 表达式和语句

语句会执行一些操作但是不会返回一个值，而表达式会在求值后返回一个值。
表达式的返回值让流程/函数更具有表达力，函数就是复杂的表达式，表达式的返回值不会终止当前的函数，只是返回当前表达式的值。

### 注意

- 表达式后不能有分号，否则表示语句
- 调用函数，调用宏会返回值就是表达式
- 调用一个函数是表达式，因为会返回一个值，调用宏也是表达式，用花括号包裹最终返回一个值的语句块也是表达式，总之，能返回值，它式。
- 等号默认返回就是唯一类型

## 函数

函数的返回值在函数体内可以由两种形式表达，第一是表达式，第二是 return 关键字。

```rs
fn opr_five(a: i32, b:i32) -> i32 {
  if a > 5 {
    return a + b - 5;
  }
  a + b + 5
}
```

表达式只有作为最后一行出现，表达式的返回值才是函数的返回值，否则表达式的返回值只是表达式的返回值！如上诉例子

```rs
fn por_five(a: i32, b: i32) -> i32 {
// 表达式一定返回值，所以要么返回指定的数据类型，要么返回唯一类型`()`
let c = if a > 5 { a + b -5 } else { 1 };

a + b + 5
}
```

在 if 表达式内部的 a+b-5 表达式，就不属于函数的返回值表达式。只有当表达式处于函数体最后一行时才是函数的返回值。
关键字 return 就提供在函数体内任意位置设置函数返回值的能力。

### 注意

函数分为收敛函数和发散函数，即函数的返回值可以分为有返回值和无返回值两类，返回唯一类型也代表着有返回值。
无返回值可以视为 never，如报错后/死循环函数无法正常结束，为无返回值，用!表示。
函数一定要标明函数参数和函数返回值类型！如果未标明返回值，则默认为唯一类型即`()`

```rs
fn plus(a: i32) -> ! { panic!("报错信息"); }
```
